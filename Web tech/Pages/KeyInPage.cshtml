@page
@model Web_tech.Pages.KeyInPageModel
@{
    <html lang="en">

        <head>
            <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">

            <!-- Load Quill JavaScript -->
            <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
        </head>
        <style>
            form {
                position: relative;
                padding: 20px;
                flex-wrap: wrap;
                justify-content: space-between;
            }

            label {
                display: block;
                width: 150px;
                margin: 10px 0;
            }

            input[type="text"],
            input[type="number"],
            select {
                padding: 10px;
                margin: 10px 0;
                border: 1px solid #ccc;
                border-radius: 4px;
                width: 100%;
                box-sizing: border-box;
            }

            input[type="submit"] {
            }

                input[type="submit"]:hover {
                    background-color: #45a049;
                }

            #subject-editor {
                height: 200px;
                width: 100%;
            }

            #answer-editor {
                height: 200px;
                width: 100%;
            }

            .form-wrapper {
                border: 1px solid #ccc;
                border-radius: 10px;
                padding: 20px;
                width: 80%;
                margin: auto;
                margin-top: 50px;
                position: relative;
            }

                .form-wrapper input[type="submit"] {
                    background-color: #4CAF50;
                    color: white;
                    padding: 12px 20px;
                    border: none;
                    position: absolute;
                    border-radius: 4px;
                    cursor: pointer;
                    bottom: 15px;
                    right: 15px;
                }
        </style>

        <body>
            <div class="form-wrapper">
                <form>
                    <label for="difficulty">Difficulty level:</label>
                    <select id="difficulty" name="difficulty">
                        <option value="easy">Easy</option>
                        <option value="medium">Medium</option>
                        <option value="hard">Hard</option>
                    </select>

                    <label for="subject">Subject:</label>
                    <select id="subject">
                        <option value="math">Math</option>
                        <option value="english">English</option>
                        <option value="history">History</option>
                        <option value="science">Science</option>
                        <option value="other">Other</option>
                    </select>
                    <input type="text" id="other-subject" placeholder="Enter subject">

                    <label for="question">Question:</label>
                    <div id="subject-editor"></div>

                    <label for="answer">Answer:</label>
                    <div id="answer-editor"></div>


                    <label for="marks">Marks:</label>
                    <input type="number" id="marks" name="marks" min="0">

                    <label for="question-image">Upload image:</label>
                    <input type="file" id="question-image" name="question-image" onchange="previewquestionImage(event)">
                    <img id="question-preview" src="#" alt="Preview Image" style="display: none; max-width: 300px; max-height: 300px;">

                    <label for="answer-image">Upload image:</label>
                    <input type="file" id="answer-image" name="answer-image" onchange="previewanswerImage(event)">
                    <img id="answer-preview" src="#" alt="Preview Image" style="display: none; max-width: 300px; max-height: 300px;">

                    <input type="submit" value="Submit">
                </form>
            </div>
        </body>
        <script>
            const subjectSelect = document.getElementById('subject');
            const otherSubjectInput = document.getElementById('other-subject');

            subjectSelect.addEventListener('change', () => {
                if (subjectSelect.value === 'other') {
                    otherSubjectInput.style.display = 'inline';
                } else {
                    otherSubjectInput.style.display = 'none';
                }
            });
        </script>
        <script>
            var subjectEditor = new Quill('#subject-editor', {
                modules: {
                    toolbar: [
                        [{ 'header': [1, 2, 3, false] }],
                        ['bold', 'italic', 'underline'],
                        ['code', 'strike'],
                        ['image', 'link'],
                        [{ 'list': 'ordered' }, { 'list': 'bullet' }],
                        ['clean']
                    ]
                },

                placeholder: 'Enter your question here',
                theme: 'snow',
                contentStyle: {
                    fontSize: '72px'
                }
            });

            subjectEditor.on('text-change', function () {
                document.getElementById('subject').value = subjectEditor.root.innerHTML;
            });
            var editorElement = document.querySelector('#editor');
        </script>
        <script>
            var answerEditor = new Quill('#answer-editor', {
                modules: {
                    toolbar: [
                        [{ 'header': [1, 2, 3, false] }],
                        ['bold', 'italic', 'underline'],
                        ['code', 'strike'],
                        [{ 'indent': '-1' }, { 'indent': '+1' }],
                        [{ 'align': [] }],
                        [{ 'direction': 'rtl' }],
                        [{ 'code-block': 'language' }],
                        ['image', 'link'],
                        [{ 'list': 'ordered' }, { 'list': 'bullet' }],
                        ['clean']
                    ]
                },
                placeholder: 'Enter your answer here',
                theme: 'snow'
            });

            answerEditor.on('text-change', function () {
                document.getElementById('answer').value = answerEditor.root.innerHTML;
            });
        </script>
        <script>
            function previewquestionImage(event) {
                var input = event.target;
                var preview = document.getElementById("question-preview");

                if (input.files && input.files[0]) {
                    var reader = new FileReader();

                    reader.onload = function (e) {
                        preview.src = e.target.result;
                        preview.style.display = "block";
                    };

                    reader.readAsDataURL(input.files[0]);
                } else {
                    preview.src = "#";
                    preview.style.display = "none";
                }
            }
        </script>
        <script>
            function previewanswerImage(event) {
                var input = event.target;
                var preview = document.getElementById("answer-preview");

                if (input.files && input.files[0]) {
                    var reader = new FileReader();

                    reader.onload = function (e) {
                        preview.src = e.target.result;
                        preview.style.display = "block";
                    };

                    reader.readAsDataURL(input.files[0]);
                } else {
                    preview.src = "#";
                    preview.style.display = "none";
                }
            }
        </script>
    </html>

}